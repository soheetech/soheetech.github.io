---
layout: post

category: DB
tag: Theory
title: "[KH/DB] 관계형 데이터 모델"

date: 2023-03-23
last_modified_at: 2023-03-24
---

# 데이터 모델(D=S, O, C)

## 구조(Structure)
- 데이터의 정적인 성질
- 개체 타입과 이들 간의 관계를 표현

## 연산(Operation)
- 데이터의 동적인 성질
- 개체를 처리하는 작업에 대한 명세, 데이터 조작 기법

## 제약조건(Constraint)
- 데이터의 논리적 제약
- 데이터 조작의 한계를 표현한 규정

### 예) 정수(Integer)
- 구조 : …, -2, -1, 0, 1, 2, …
- 연산 : 사칙연산(+, -, x, /)
- 제약조건

<div class="table-wrapper" markdown="block">

| 정수/정수 | 3/2 |
| :- | :- |
| 정의할 수 없는 경우가 있음 | 1.33333 : 정수가 아님 |

</div>


# 데이터베이스의 구성 요소

> 데이터베이스 = 데이터들의 집합

## 개념적 구조
사용자 입장에서의 구성 요소
> 데이터베이스 = {개체, 관계}

### 개체(Entity)
- 표현하고자 하는 현실 세계에 존재하는 유/무형의 객체
  + 반드시 물질적으로 존재할 필요는 없음(수강신청, 계약 등)
- 데이터베이스에서 표현되는 정보의 단위
- 개체는 하나 이상의 속성(Attribute)로 구성
  + 속성 : 데이터의 가장 작은 논리적인 단위
  + 물리적인 단위 : Bit
- 파일 시스템의 레코드(Record)에 대응되는 개념

> 개체 집합(Entity Set) ↔ 개체 인스턴스(Entity Instance)

- 개체 타입(Entity Type)
  + 개체 집합에 속한 개체 인스턴스들이 공통으로 가지는 특징(구조)
- 관계(Relationship)
  + 개체들 사이에 존재하는 연관성

## 논리적 구조
컴퓨터가 처리할 수 있는 데이터 모델

- 컴퓨터가 인식하고 처리할 수 있는 데이터의 논리적 구조
- 데이터베이스 관리 시스템과 사용자가 공통으로 인식하는 구조
  + 데이터의 논리적 배치와 구성을 나타냄
- 데이터베이스는 주로 관계형 데이터 모델에 기반함

<div class="table-wrapper" markdown="block">

| 과거 | 현재 |
| :-: | :-: |
| 계층적 모델, 네트워크 모델 등이 있었음 | 프로그래밍 환경에서는 주로 객체 지향 모델을 사용함<br />실세계를 객체(Object)들과 객체들 간의 의사전달(Message Passing)로 모델링함 |

</div>

- 최근 데이터베이스 관리 시스템들은 객체 관계형 모델을 사용

> 관계형 모델 + 객체 지향 모델 → 객체 관계형 모델


## 물리적 구조
저장 미디어에서 본 데이터의 물리적 배치 및 구성

- 하드 디스크, SSD, DVD와 같은 저장 미디어에서 본 데이터의 물리적인 배치 및 구성
- 컴퓨터 위주의 표현 방식으로 저장 장치에 저장된 데이터의 실제 구조 및 접근 방법
- 일반 사용자나 응용 프로그래머들은 물리적 구조를 인지하거나 파악하지 못함

## 데이터베이스 구성 시 유의사항
- 데이터베이스의 논리적 구조는 사용자가 숙지하고 있어야 함
- 물리적 구조는 일반 사용자가 숙지할 필요는 없음
- 논리적 구조와 물리적 구조 사이의 도표화(Mapping)는 데이터베이스 관리 시스템이 지원함
  + 데이터 종속성의 해결 → 데이터 독립성

# 관계형 데이터베이스
## 관계형 데이터 모델(Relational Data Model)
데이터베이스에서 가장 많이 쓰이고 있는 논리적 모델

## 관계형 데이터 모델의 특징
- 단순한 모델 구조
- 수학적 이론(집합론(Set Theory))에 기반한 모델의 강건(Sound)함
- SQL이라는 간단한 비절차적 언어로 쉬운 데이터 처리 가능

## 집합론
- 창시자 : 독일 수학자 칸토어(Georg Cantor)
- 우리의 직관 또는 사고의 대상 중에서 확정되어 있고 서로 명확히 구별되는 것들의 모임
- 구체적/객관적 기준에 의해 원소를 명확히 구분 가능해야 함
  + 집합을 구성하는 원소 : 집합 내에서 유일하게 식별될 수 있어야 함
- 논리적인 개념도 집합의 구성 요소가 될 수 있음
  + 눈으로 보거나 손으로 만질 수 없더라도 첫 번째 조건을 충족하는 개념이라면 이 역시 집합이 될 수 있음

## 집합

<div class="table-wrapper" markdown="block">

| 유형 | 특징 |
| :-: | :- |
| 군집(Collection) | - 동일한 유형의 원소들이 모여 있는 군집<br />- 하위 타입 : Set, Bag, List, Array |
| Set | - 원소의 중복 불가<br />- 원소들 간의 순서 없음 |
| Bag(또는 Multi-Set) | - 원소의 중복 허용<br />- 원소들 간의 순서 없음 |
| List | - 원소의 중복 불가<br />- 원소들 간의 순서 있음 |
| Array | - 원소의 중복 허용<br />- 원소들 간의 순서 있음 |

</div>

## 관계형 데이터 모델의 구성요소
### 구조
릴레이션(또는 테이블)

### 연산
- 관계 대수(Relational Algebra)
- 관계 해석(Relational Calculus)

### 제약조건
무결성(Integrity) 제약조건


# 릴레이션(Relation)
## 관계형 데이터 모델의 구조(Structure)
- 2차원 테이블 구조
- 테이블의 행(Row) : 튜플(Tuple)
  + 릴레이션은 튜플들의 집합
  + 개념적 모델의 개체(Entity)가 관계형 모델에서 한 튜플에 대응됨
  + 개념적 모델의 관계(Relationship)도 관계형 모델에서 한 튜플에 대응됨
- 테이블의 열(Column) : 속성(Attribute)
  + 도메인(Domain) : 한 속성이 가질 수 있는 값의 범위

## 속성(Attribute)
- 관계형 데이터 모델에서 데이터의 가장 작은 논리적 단위
- 관계형 모델에서는 이 데이터 값들을 더 분해하려고 해도 더 분해할 수 없는 원자 값(Atomic Value)만을 허용
  + 원자 값은 아무런 내부적 구조를 지니고 있지 않음

## 도메인(Domain)
- 하나의 속성이 취할 수 있는 값들의 집합
- 도메인과 속성의 관계는 프로그래밍 언어에서 타입과 변수에 비유
  + 어떤 데이터 타입으로 선언된 변수는 언제 어느 때고 그 선언된 데이터 타입의 값만을 가짐
- 속성 정의시 도메인도 함께 명세함으로써 실제 속성이 지니는 값이 합법적인지 아닌지를 데이터베이스 관리 시스템(DBMS)을 통해 검사 가능
- 어떤 릴레이션 R이 n개의 도메인 D1, D2, …, Dn으로 구성될 때 릴레이션 R은 릴레이션 스키마와 릴레이션 인스턴스로 구성
  + 릴레이션 스키마 : 릴레이션 이름 R과 n개의 속성 A1, …, An으로 구성 
    * ⇒ R(A<sub>1</sub>, …, A<sub>n</sub>)
    * 여기서 속성 A<sub>i</sub>는 한 도메인 D<sub>i</sub>와 대응됨
  + 릴레이션 인스턴스 : 어느 한 시점에 릴레이션 R에 포함된 튜플들의 집합

## 수학적 정의

![image](https://user-images.githubusercontent.com/121299334/227265625-c0d8a56f-672c-44ba-8a1d-076ad3048c3f.png)

- X : 카티션 프로덕트(Cartesian Product)
  + 집합론에서 사용되는 곱셈 연산
  + 두 집합에 속한 원소들을 이용하여 모든 가능한 쌍 만들기
- t∈R : t를 릴레이션 R에 속한 한 튜플이라고 가정한 경우
  + t는 n개의 속성들로 이루어진 n-튜플 <d<sub>1</sub>, d<sub>2</sub>, …, d<sub>n</sub>>
  + 여기서 d<sub>i</sub>11D<sub>i</sub>(1 ≤ i ≤ n), 즉 d<sub>i</sub>는 도메인 D<sub>i</sub>에 속한 한 값
    * n : 릴레이션 R의 차수(Degree), R의 Column 수(속성의 수)
    * |R| : 릴레이션 R의 카디널리티(Cardinality), R의 Row 수(튜플의 수)

## 특성
### 튜플의 유일성
- 릴레이션은 튜플의 집합
- 집합은 중복을 허용하지 않음

### 튜플의 무순서성
- 릴레이션은 튜플의 집합
- 집합에서 원소들 간의 순서는 없음

### 속성의 무순서성
- 스키마는 속성들의 집합

### 속성의 원자성(Atomicity)
- 속성 값은 원자 값
  + 원자(Atom) : 더 이상 쪼갤 수 없는 물질의 최소 단위
- 속성은 개체를 구성하는 가장 작은 논리적 단위
  + 논리적으로 더 분해할 수 없음
- 한 릴레이션에 나타난 속성값은 논리적으로 더 이상 분해될 수 없는 원자 값
  + 처리상의 단위 값 : Unit Value
- 이 성질의 근본적인 의미 : 튜플의 속성값은 하나의 값만을 허용
  + 반복 그룹, 즉 값의 집합은 허용하지 않음
  + 반복 그룹을 허용하지 않는 릴레이션 : 정규화 릴레이션(Normalized Relation)
- 관계형 데이터 모델은 이 정규화 릴레이션만을 취급함
