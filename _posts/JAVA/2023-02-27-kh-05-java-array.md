---
layout: post

category: JAVA
tag: Theory
title: "[KH/JAVA] 배열(Array)"

date: 2023-02-26
last_modified_at: 2023-03-25
---

# 배열(Array)
- 같은 자료형의 원소를 정해진 개수만큼 가지고 있는 객체(하나의 묶음)
- 배열의 크기는 배열이 초기화 또는 생성될 때 정해짐
- 숫자 인덱스(첨자/0부터 시작)를 사용하여 특정 원소를 다룸
  + 인덱스 번호는 10진수 사용

## 배열의 선언
- 메모리의 Stack영역에 배열을 참조하는 변수 공간을 할당하고 이름을 부여함
- 값을 직접적으로 저장하는 공간이 아니라 참조형으로 주소값을 가지고 있음
- 선언할 때는 크기를 지정할 수 없음

```java
자료형[] 변수이름;
자료형 변수이름[];
```

## 배열의 초기화

```java
// 1) 인덱스를 이용한 초기화

arr[0] = 1;
// 배열은 자료형[]의 참조형 변수이지만
// 배열[index]는 기본 자료형 변수이기 때문에 값을 대입할 수 있음


// 2) for문을 이용한 초기화
//  : 배열 길이(arr.length) 이용
//    index가 순차적으로 증가함에 따라
//    초기화할 리터럴 값이 규칙적이라면 반복문을 통해 배열 초기화 가능

for(int i = 0; i < arr.length; i++){
    arr[i] = i;
}


// 3) 선언과 동시에 초기화
// 중괄호를 이용해 초기 값을 지정함
// 자동으로 메모리 공간이 확보됨
// 초기화 또는 생성 과정을 거쳐야 배열의 원소를 사용할 수 있음

int[] arr = {1, 2, 3, 4, 5}; // {}는 배열의 리터럴 표기법
int[] arr = new int[] {1, 2, 3, 4, 5};
String fruit[] = {"사과", "포도", "참외"};
```


### 초기화 시 알아야 하는 값들의 성질
- 비어있다 : stack 영역에 선언된 변수에 값이 대입되지 않음
- null : 참조형 변수가 선언되었으나 아무 곳도 참조하지 않음
- 0 : int 자료형 0(=확실히 존재하는 값)
- "" : String 자료형이지만 내용 없음(=빈 문자열)


## 배열의 생성(할당)
- 실제 값을 저장할 수 있는 배열의 원소가 사용할 메모리 공간의 생성
- 진짜 데이터 값을 가지고 있음

```java
// new : "new 연산자"
// 배열의 크기를 정하고 Heap 메모리 영역에 새로운 공간(배열, 객체)을 확보(할당)함

// new 연산자는 생성된 배열의 메모리 시작 주소값을 배열명 변수에 대입(리턴)
// → heap 영역에 배열크기에 맞는 자료형[]을 생성(할당)
//   생성된 자료형[]에는 시작 주소가 지정됨

// heap 영역에 생성된 자료형[]의 시작 주소를 stack 영역에 생성된 변수에 대입
// → 변수가 자료형[]을 참조하게됨 ⇒ 참조형

// 원소가 숫자인 경우 0, 참조형인 경우 null로 자동 초기화

자료형[] 배열명 = new 자료형[배열크기];
자료형 배열명[] = new 자료형[배열크기];
```


## 객체(Instance)의 할당
`new` 연산자와 생성자를 사용하여 객체 생성 시 Heap 메모리 영역에 서로 다른 자료형의 데이터가 연속으로 나열/할당된 객체 공간

```java
Student s = new Student();
```
![instance](https://user-images.githubusercontent.com/121299334/225654019-9b7b3afd-bf67-49aa-bb8c-c79a91b03e8d.png)



## 배열의 저장구조
- 배열은 참조 변수로 Heap영역에 할당되며 배열 공간의 주소를 저장
- 배열 공간의 주소를 이용해 인덱스를 참조하는 방식으로 값 처리

![kh_05_array](https://user-images.githubusercontent.com/121299334/221569228-5a188840-237a-4096-9394-8a8583f9b109.png)


## 배열의 크기
배열은 크기를 가지는 내장 속성 `length`를 가짐

```java
배열이름.length
```

## 배열 복사
### 얕은(shallow) 복사
- 주소를 복사
- 서로 다른 두 변수가 하나의 배열(또는 객체)을 참조하는 상태를 만드는 복사 방법

### 깊은 복사
새로운 배열 객체를 생성하여 기존 배열의 데이터를 복사하는 것


## Arrays 클래스
java에서 제공하는 배열과 관련된 기능을 모아둔 클래스

```java
Arrays.toString(배열명) // 모든 요소 값을 출력
```
