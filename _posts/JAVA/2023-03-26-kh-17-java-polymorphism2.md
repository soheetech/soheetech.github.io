---
layout: post

category: JAVA
tag: Theory
title: "[KH/JAVA] 추상 클래스(abstract class)와 인터페이스(interface)"

date: 2023-03-26
last_modified_at: 2023-03-26
---

# 추상 클래스

## 추상메소드(abstract method)
- 몸체 없이 형식만 존재하는 메소드(미완성 메소드)
  + 반환형, 이름, 인자 선언만 존재함
  + 자식 클래스에 상속될 때, 몸체의 구현이 필요함
  + 상반된 의미의 `final`과 함께 사용할 수 없음
- 추상 메소드의 선언부에 `abstract` 키워드 사용
- 상속 시 반드시 구현해야 하는 오버라이딩이 강제화되는 메소드

```java
[접근제한자] abstract 반환형 메소드명(자료형 변수명);
```

## 추상클래스(abstract class)
- 몸체없는 메소드(=추상 메소드)를 포함한 클래스(미완성 설계도)
  + 데이터 필드나 일반 메소드를 포함할 수 있음
  + 객체 생성 불가 : 구체적이지 못한 불완전한 클래스로 상속을 통해 객체 생성
    * 참조형 변수 타입으로 사용 가능
  + 추상 메소드를 포함하는 클래스는 반드시 추상 클래스여야 함
    * 추상 메소드가 없어도 추상 클래스 선언 가능함
- 추상 클래스의 선언부에 `abstract` 키워드 사용

```java
[접근제한자] abstract class 클래스명{}
```

### 추상 클래스의 사용
- 의미적으로 유사한 클래스를 묶고자 할 때 사용함
  + 공통으로 사용할 데이터 필드와 메소드를 정의
- 추상 클래스 = 불완전 클래스 : 기능적으로 구현하기 어려운 메소드가 존재할 때 사용
- 자식 클래스에서 추상 클래스를 상속받아 추상 메소드를 구현해 사용함
  + 이 경우 자식 클래스는 객체 생성 가능
  + 자식 클래스가 추상 메소드를 구현하지 않을 경우 자식 클래스도 추상 클래스
- 일반 클래스와 인터페이스의 중간적 성격을 가짐

### 추상 클래스 사용 시 장점
- 상속받은 자식에게 공통된 멤버 제공
- 일부 기능의 구현을 강제화
  + 공통적이거나 자식 클래스에 따라 재정의 되어야 하는 기능


# 인터페이스(interface)
=접점

## Java의 인터페이스
- 클래스 간의 접점 : 클래스가 공통적으로 가져야되는 필드, 메소드를 모아두고 상속
- 100% 추상적 클래스 : 메소드의 통일성을 부여하기 위해 추상 메소드만 따로 모아놓은것
- 상수형 필드와 추상 메소드만을 작성할 수 있는 추상 클래스의 변형체
  + 인터페이스의 모든 메소드는 추상 메소드(`public abstract`)
  + 단, 몸체가 구현된 `default` 메소드와 `static` 메소드도 포함 가능
    * 모든 메소드의 기본 접근 제어자는 `public`
  + 데이터 필드는 클래스 상수만 가능(`public static final`)
- 참조 자료형이며 직접적 객체 생성은 불가함 (=다형성)
- 인터페이스의 이름은 보통 형용사(ex. Runnable, Serializable, Comparable 등)
- 상속 시 인터페이스 내에 정의된 모든 추상 메소드 구현해야 함

## 인터페이스의 정의

```java
[접근제한자] interface 인터페이스명{
// abstract는 보통 생략함

	// 상수도 멤버로 포함할 수 있음
	// 데이터 필드는 항상 public static final로 클래스 상수만 가능
	public static final 자료형 변수명 = 초기값;
	
	// 추상 메소드만 선언 가능
	// 즉, 몸체가 없으며 반황형, 이름, 매개변수 목록만 표시함
	[public abstract] 반환자료형 메소드명([자료형 매개변수]);
	// 메소드는 기본적으로 public abstract로 보통 생략하기 때문에
	// 오버라이딩 시 반드시 public 표기해야 함

	// default 메소드와 static 메소드도 가능하지만
	// 이 경우 몸체를 구현해야 함
	// 기본적으로 public
	
}
```

## 인터페이스의 사용
- 추상 클래스와 마찬가지로 자식 클래스에 상속되어 사용됨
  + 상속받는 자식 클래스는 모든 추상 메소드를 구현해야 함
- 의미적으로는 관련이 없으나 기능적으로 유사한 클래스들을 묶을 때 사용함
- 인터페이스를 상속받아 자식 인터페이스를 정의할 수 있음
  + = 인터페이스의 상속(확장)

## 인터페이스의 상속

### 자식 인터페이스가 부모 인터페이스를 상속받는 경우
- 인터페이스를 상속받아 인터페이스를 정의할 때 키워드 `extends` 사용
- 여러 인터페이스를 상속받는 다중 상속도 가능함

```java
interface 자식인터페이스 extends 부모인터페이스 { }
```

### 자식 클래스가 부모 인터페이스를 상속받는 경우
- 자식은 부모가 나열한 기능(추상 메소드)을 구현해야 함
- 구현을 통해 클래스를 정의할 때 implements를 사용

```java
class 자식클래스 implements 부모인터페이스 { }
class 자식클래스 extends 부모클래스 implements 부모인터페이스1, 부모인터페이스2 { }
```

## 인터페이스 사용 시 장점
- 다형성을 이용하여 상위 타입 역할(자식 객체 연결)
- 인터페이스 구현 객체에 공통된 기능 구현 강제화(=구현 객체간의 일관성 제공)
- 공동 작업을 위한 인터페이스 제공

## 인터페이스의 활용 용도
- `default` 메소드 : 상속받은 클래스에 공통적인 기능을 제공함
- 자바의 함수 지향 언어 사용을 위한 메소드로 사용함
- 람다, 스트림에 사용함
- Spring AOP Proxy 사용

### 디폴트 메소드(default method)
- 인터페이스에서 선언하는 메소드에 기본 구현을 넣을 수 있음
  + 자식 클래스에서 상속받을 때 디폴드 메소드를 그대로 사용하거나 몸체를 다시 정의해줄 수 있음
  + 메소드 선언 시 `default`를 사용하고 몸체를 구현해줌
- 인터페이스에 나열된 기능을 확장할 때 기존 코드의 수정을 피하기 위함
  + 단순히 추상 메소드가 추가된다면 이전 인터페이스를 구현한 클래스를 수정해야 함


# 추상클래스 vs 인터페이스

<div class="table-wrapper" markdown="block">

| 구분 | 추상 클래스 | 인터페이스 |
| :-: | :-: | :-: |
| 상속 | 단일 상속 | 다중 상속 |
| 구현| extends 사용 | implements 사용 |
| 추상 메소드 | abstract 메소드 0개 이상 | 모든 메소드는 abstract |
| abstract | 명시적 사용 | 묵시적으로 abstract |
| 객체 | 객체 생성 불가 | 객체 생성 불가 |
| 용도 | 참조 타입 | 참조 타입 |

</div>

# 추상 클래스, 인터페이스, 클래스의 형변환
- 인터페이스와 클래스는 모두 사용자 정의형
- `extends`와 `implements`에 따라 상위/하위 자료형 관계가 설정됨
- 상위 유형의 변수는 하위 객체의 참조값을 가질 수 있음
- 상위 유형의 변수가 가리키는 객체의 실제 유형에 따라 수행되는 메소드가 결정됨(동적 바인딩)
  + 메소드 호출 시 변수의 선언 유형으로 정하지 않음

# 일반 클래스, 추상 클래스, 인터페이스의 상속

## 상속
- 자식 클래스의 공통된 부분을 추출하여 부모 클래스를 만드는 것
- 공통된 필드, 메소드를 가진 클래스를 만들고 작성된 코드를 자식들이 물려받아 사용
- 코드 길이 감소, 코드 중복 제거, 재사용성 증가, 자식에 대한 일관된 규칙 제공

## [일반 클래스] 상속
부모 클래스도 객체로 만들 수 있어야 되는 경우<br />
예) (부) 갤럭시 22, (자) 갤럭시 22 울트라

## [추상 클래스] 상속
- 연관된 클래스의 공통점을 묶어두되 부모 클래스는 객체로 만들 수 없는 경우
- 일부 미완성 클래스(abstract 메소드 0개 이상 포함)
  + abstract 메소드가 없어도 클래스를 객체로 못 만들게 하고 싶은 경우가 있음 : 계산기 등
  + 기본 기능을 가지고 있지만 이것만 가지고는 쓸 데 없음
  + abstract로 만들어서 객체 생성 막아둠
- 또는 의미적으로 객체가 되면 안되는 경우
  + 예) Biology : 생물 객체는 어떤 생물인가?
  + Animal 클래스 : 동물 객체는 어떤 동물인가? eat(), breath()는 어떻게 수행되는가?
  + → 알 수 없음, 하지만 동물의 공통된 기능명은 알고 있음

## [인터페이스] 상속
연관성 낮거나 없는 클래스들에게 공통된 기능을 제공할 때 사용
- 예시) 키보드, 마우스, 스캐너, 카메라, 압력센서, 기울기 센서
- → 입력 장치 : 각각의 용도는 다르지만 "입력"이라는 공통된 "기능명"이 있음

```java
/* public abstract */ void input(); 
// "input"이라는 이름을 자식에게 제공할 뿐 상세한 기능은 자식이 알아서 오버라이딩 해라
// 그런데 추상 메소드니까 오버라이딩 강제화

// 모든 필드가 묵시적(암묵적) public static final

// ex) public static final double PI = 3.141592;
// /* public tatic final */ int MAX_NUM = 10000;

// 모든 메소드가 묵시적으로 public abstract(추상 메소드)
```

# 익명 클래스
- 일회성으로 1개의 객체를 생성하기 위한 클래스
  + 클래스 정의와 동시에 객체를 생성할 수 있음
- 슈퍼 클래스를 상속받거나 인터페이스를 구현하도록 익명 클래스를 정의함

```java
new 슈퍼클래스() {} // 슈퍼 클래스의 자식 객체 생성
new 인터페이스() {} // 인터페이스를 구현하는 자식 객체 생성

// {} : 익명 클래스의 몸체
```
