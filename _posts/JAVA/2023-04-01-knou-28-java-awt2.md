---
layout: post

category: JAVA
tag: Theory
title: "[KNOU/JAVA] AWT 이벤트 처리"

date: 2023-04-01
last_modified_at: 2023-04-01
---

# AWT 컨트롤 클래스

## Button 클래스
- 제목(또는 이름)이 있는 버튼을 표현
- 버튼을 눌렀을 때 이벤트 처리에 의해 액션을 수행할 수 있음

### 생성자

```java
Button()
Button(String label)
```

### 메소드

```java
void setLabel(String label)
String getLabel()

// Component 클래스에서 상속받은 메소드
setVisible()
setBounds()
setEnabled()
```

## Checkbox 클래스
체크 박스(선택(true)/비선택(false) 또는 on/off 상태)를 표현

### 생성자

```java
Checkbox()
Checkbox(String label, boolean state)
// 제목과 상태를 지정할 수 있음

Checkbox(String, boolean, CheckboxGroup)
// 같은 그룹의 체크박스들은 라디오 버튼처럼 동작
// 하나의 체크박스만이 on 상태가 될 수 있음
```

### 메소드

```java
void setLabel(String)
String getLabel()
void setState(boolean)
Boolean getState()
```


## Choice 클래스
콤보 박스를 표현

- 선택할 아이템이 많은 경우 사용
- 하나를 선택할 수 있으며 현재 선택된 것이 보임

### 메소드

```java
void addItem(String item)
void insert(String item, int index)
// 인덱스는 0부터 시작
String getItem(int index)
int getSelectedIndex()
String getSelectedItem()
```


## List 클래스
하나 또는 여러 개의 아이템을 선택할 수 있게 함

- 선택할 아이템이 매우 많을 때 사용
- 기본은 단일 선택이나 다중 선택 가능, 스크롤 가능


### 생성자

```java
List()
List(int)
List(int rows, boolean multipleMode)
// 한 번에 보여줄 아이템의 개수와 다중 선택 여부를 지정
```

### 메소드

```java
void add(String item)
void add(String item, int index)
String getItem(int index)
int getSelectedIndex()
int[] getSelectedIndexes()
String getSelectedItem()
String[] getSelectedItems()
```


## TextComponent 클래스
- 텍스트를 편집하거나 다루기 위한 컴포넌트
- `TextArea` 와 `TextField` 의 부모 클래스

### 메소드

```java
int getCaretPosition()
void setCaretPosition(int position)
// (편집 위치를 알려주는) 캐릿의 위치를 조회/설정
String getSelectedText()
String getText()
void select(int start, int end)
void setText(String t)
```


## TextField 클래스
- 한 줄의 텍스트 편집을 위한 컴포넌트
- 여러 줄의 텍스트 편집에는 `TextArea` 클래스를 사용

### 생성자

```java
TextField(String text, int columns)
```

### 메소드

```java
void setColumns(int cols)
int getColumns()
void setEchoChar(char c)
char getEchoChar()
// 비밀번호 등을 입력할 때 echo 문자를 '*' 등으로 설정
void setText(String text)
```


# 이벤트(Event)
- 사용자가 GUI 컴포넌트를 사용하면서 발생시키는 행위
  + 마우스 클릭, 버튼 누름, 키보드 입력, 메뉴 선택 등
- 이벤트는 종류별로 클래스로 정의되어 있음
  + `MouseEvent`, `ActionEvent`, `ItemEvent` 등

## java.awt.event
- AWT 컴포넌트에서 발생하는 다양한 이벤트를 처리하기 위한 인터페이스와 클래스 제공
- `xxxEvent`, `xxxListener`, `xxxAdapter`


## 이벤트 기반 프로그래밍
무한루프를 돌면서 사용자의 행위로 인한 이벤트를 청취하여 응답하는 형태로 작동하는 프로그래밍

### 컴포넌트와 이벤트 발생
- GUI 컴포넌트에서 여러 이벤트가 발생할 수 있음
  + 이벤트 소스(Event Source)
- 컴포넌트마다 발생될 수 있는 이벤트가 정해져 있음
  + Button의 경우 발생 가능한 이벤트 : ActionEvent, ComponentEvent, FocusEvent, KeyEvent, MouseEvent
  + ActionEvent가 발생할 수 있는 컴포넌트 : Button, List, MenuItem, TextField


## 이벤트 처리 방식
- 위임형 이벤트 처리 모델 : 이벤트 리스너 객체에 이벤트 처리를 위임함
- 컴포넌트(이벤트 소스)에 이벤트가 발생했을 때 컴포넌트에 등록된 리스너 객체를 통해 이벤트 처리 코드를 실행함


### 방법
모든 컴포넌트는 이벤트 소스가 될 수 있음

#### 이벤트 소스에 이벤트 리스너 객체를 등록하는 방법
하나의 이벤트 소스에서 여러 다른 이벤트가 발생 가능하며 이벤트 종류별로 각각 이벤트 처리를 등록해야 함

```java
컴포넌트.addXxxListener(리스너객체);
```


# 이벤트 클래스와 이벤트 리스너

## 이벤트 클래스

- 이벤트는 클래스(xxxEvent)로 분류되어 있음
  + 예) `MouseEvent`는 마우스 클릭과 관련된 이벤트
- 이벤트 클래스는 종류에 맞는 정보와 메소드를 가짐


## 리스너 인터페이스

- 이벤트 리스너 인터페이스는 이벤트 처리를 위한 인터페이스
  + 리스너 객체는 이벤트 처리를 위임 받은 객체
- 이벤트 클래스에 1대1로 대응되는 인터페이스
  + 예) `WindowEvent` - `Windowlistener`, `ItemEvent` - `ItemListener`


## 이벤트 리스너 인터페이스

- 리스너 인터페이스에는 개별 이벤트를 처리하기 위한 메소드가 하나 또는 여러 개 존재함
- 2개 이상의 메소드를 가지는 인터페이스는 상응하는 이벤트 어댑터 클래스가 존재함

### 이벤트 리스너 객체

- 이벤트 리스너 인터페이스를 구현한 클래스의 객체
  + 또는 이벤트 어댑터 클래스를 상속받은 클래스의 객체
- 이벤트 처리를 담당 : 적절한 메소드 실행


## 이벤트 클래스와 이벤트 발생

<div class="table-wrapper" markdown="block">

| 이벤트 클래스 | 이벤트 리스너 | 이벤트가 발생하는 경우 |
| :-: | :-: | :- |
| ActionEvent | ActionListener | 버튼 클릭, 리스트 항목을 더블 클릭, 메뉴 항목 선택, 텍스트필드에서 엔터키를 치는 경우 |
| AdjustmentEvent | | 스크롤바를 조작할 때 |
| ComponentEvent | ComponentListener | 컴포넌트가 가려지거나 보일 때, 크기나 위치가 변할 때 |
| ContainerEvent | | 컨테이너에 자식 컴포넌트가 추가되거나 삭제될 때 |
| FocusEvent | FocusListener | 입력 포커스를 얻거나 잃었을 때 |
| ItemEvent | ItemListener | 체크박스, 체크메뉴 항목, 초이스 항목, 리스트 항목을 선택하거나 해제할 때 |
| KeyEvent | KeyListener | 키보드가 누르거나 떼거나 타이핑할 때 |
| MouseEvent | MouseListener<br />MouseMotionListener | 마우스 클릭, 마우스 포인터가 컴포넌트 위로 올라오거나 나갈 때, 마우스를 누르거나 뗄 때<br />마우스가 움직이거나 드래깅 될 때 |
| TextEvent | TextListener | 텍스트컴포넌트에서 텍스트에 변화가 생겼을 때 |
| WindowEvent | WindowListener | 윈도우의 시스템 버튼을 눌렀을 때 |

</div>


## 이벤트 리스너, 이벤트 어댑터와 메소드

<div class="table-wrapper" markdown="block">

| 리스너 인터페이스와 어댑터 | 이벤트 처리를 위한 개별 메소드 |
| :-: | :- |
| ActionListener | actionPerformed(ActionEvent e) |
| AdjustmentListener | adjustmentValueChanged(AdjustmentEvent e) |
| ComponentListener<br />ComponentAdapter | componentHidden(ComponentEvent e)<br />componentMoved(ComponentEvent e)<br />componentResized(ComponentEvent e)<br />componentShown(ComponentEvent e) |
| ContainerListener<br />ContainerAdapter | componentAdded(ContainerEvent e)<br />componentRemoved(ContainerEvent e) |
| FocusListener<br />FocusAdapter | focusGained(FocusEvent e)<br />focusLost(FocusEvent e) |
| ItemListener | itemStateChanged(ItemEvent e) |
| KeyListener<br />KeyAdapter | keyTyped(KeyEvent e)<br />keyPressed(KeyEvent e)<br />keyReleased(KeyEvent e) |
| MouseListener<br />MouseAdapter | mousePressed(MouseEvent e)<br />mouseReleased(MouseEvent e)<br />mouseEntered(MouseEvent e)<br />mouseExited(MouseEvent e)<br />mouseClicked(MouseEvent e) |
| MouseMotionListener<br />MouseAdapter | mouseMoved(MouseEvent e)<br />mouseDragged(MouseEvent e) |
| TextListener | textValueChanged(TextEvent e) |
| WindowListener<br />WindowAdapter | windowOpened(WindowEvent)<br />windowClosing(WindowEvent)<br />windowClosed(WindowEvent)<br />windowConified(WindowEvent)<br />windowDeiconified(WindowEvent)<br />windowActivated(WindowEvent)<br />windowDeactivated(WindowEvent) |

</div>


# 이벤트 처리 방법

## 필요한 클래스의 정의

- 이벤트 소스와 처리할 이벤트 종류를 결정
- 상응하는 리스너 인터페이스를 구현하는 클래스 정의
  + 여기서 이벤트 처리를 위한 개별 메소드를 구현함
  + 개별 메소드가 이벤트를 처리하는 코드임
- 상응하는 어댑터 클래스가 존재하면 어댑터 클래스를 상속받는 클래스를 정의해도 됨
  + 불필요한 메소드의 구현을 생략할 수 있음

## 이벤트 등록
리스너 객체를 생성하고 해당 이벤트 소스에 처리하고자 하는 이벤트를 등록함

### 이벤트 처리
- 버튼을 누르면 ActionEvent가 발생함
- 등록되어 있는 이벤트 리스너 객체를 통해 `void actionPerformed(ActionEvent ev)가 실행됨
  + 이벤트 객체가 인자로 전달됨



# 이벤트 종류와 이벤트 처리

## ActionListener의 메소드
`ActionEvent` 발생은 명령의 실행을 의미함

```java
void actionPerformed(ActionEvent ev)
// 버튼을 클릭하는 경우, 메뉴 항목을 클릭하는 경우,
// TextField에서 엔터를 치는 경우,
// 리스트의 항목을 더블 클릭하는 경우
```


## ActionEvent의 메소드

```java
String getActionCommand()
// 명령의 이름을 리턴

Object getSource()
// 부모인 EventObject 클래스에서 상속된 메소드
```


## WindowListener의 메소드
윈도우의 상태 변화를 야기하는 경우

```java
void windowActivated(WindowEvent ev)
void windowClosed(WindowEvent ev)
```


## WindowEvent의 메소드

```java
int getNewState()
// 0이면 정상 상태
int getOldState()
Window getWindow()
```


## ItemListener의 메소드

```java
void itemStateChanged(ItemEvent ev)
// Checkbox, CheckboxMenuItem, Choice, List에서
// 아이템을 선택하거나 해제하는 경우
```


## ItemEvent의 메소드

```java
Object getItem()
// 선택/해제한 항목을 리턴
int getStateChange()
// ItemEvent.SELECTED, ItemEvent.DESELECTED
```


## MouseListener의 메소드

```java
void mousePressed(MouseEvent e)  
void mouseReleased(MouseEvent e)  
void mouseEntered(MouseEvent e)  
void mouseExited(MouseEvent e)  
void mouseClicked(MouseEvent e)
```


## MouseMotionListener의 메소드

```java
void mouseDragged(MouseEvent ev)
void mouseMoved(MouseEvent ev)
```


## MouseEvent의 메소드

```java
int getButton()
// 상태를 바꾼 마우스 버튼을 리턴
// MouseEvent.BUTTON1 또는 2, 3을 리턴

int getClickCount()
// 클릭한 횟수를 리턴

Point getPoint()
// 마우스의 x, y 좌표를 리턴

int getX()
int getY()
```

