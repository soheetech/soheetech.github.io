---
layout: post

category: JAVA
tag: Theory
title: "[KH/JAVA] 제네릭(Generic)"

date: 2023-03-28
last_modified_at: 2023-03-28
---

# 제네릭 타입

## 제네릭 (클래스, 인터페이스, 메소드)

클래스, 인터페이스, 메소드를 정의할 때 타입 매개변수(타입 파라미터)를 선언하고 사용할 수 있음

- 여러 유형에 걸쳐 동작하는 일반화된 클래스나 메소드를 정의할 수 있음
- 자료형을 한정함으로써 컴파일 시점에 자료형 검사가 가능
  + 실행 오류를 찾아 고치는 것은 어렵기 때문
- 캐스트(형변환) 연산자의 사용이 불필요


## 제네릭 클래스

- 클래스 정의에서 타입 파라미터를 선언함
  + 클래스를 사용할 때는 타입을 명시해야 함
- 타입 파라미터는 참조형만 가능함
  + 필드의 자료형, 메소드 반환형, 인자의 자료형으로 사용할 수 있음
- 컴파일 할 때, 명확한 타입 검사를 수행할 수 있음
  + 메소드 호출 시 인자의 유형이 맞는지
  + 메소드 호출의 결과를 사용할 때 유형이 맞는지
- 제네릭 타입: 자료형을 매개변수로 가지는 클래스와 인터페이스

### 제네릭 클래스의 정의

```java
class 클래스이름<T1, T2, ⋯> { ⋯ }

// 클래스 정의에서 클래스 이름의 오른편, 각 괄호 <> 안에 타입 파라미터 표시
// 콤마(,)로 구분해 여러 개의 타입 파라미터를 지정 가능
// 타입 파라미터는 타입을 전달 받기 위한 것
// 타입 파라미터의 이름은 관례적으로 E, K, V, N, T ⋯ 사용
```

### 제네릭 클래스의 필요성

- 제네릭 타입과 자료형 검사
  + 제네릭 타입을 사용하지 않으면 컴파일 시점에서 오류를 검출하지 못함
- 의미가 명확하면 생성자 호출 시, 괄호만 사용할 수 있음

```java
// 괄호만 사용할 경우 예시

Data2<String> b3 = new Data2<>();
```

### 제네릭 타입을 상속/구현하는 일반 클래스

제네릭 인터페이스를 구현하는 일반 클래스
- 클래스를 정의할 때 제네릭 인터페이스의 `<>` 안에 자료형을 지정

## Raw 타입

- 제네릭 타입이지만 일반 타입처럼 사용하는 경우 제네릭 타입을 지칭하는 용어
- 타입 매개변수 없이 사용되는 제네릭 타입 : 자료형을 `Object`로 처리함


# 제네릭 메소드와 타입 제한

## 제네릭 메소드

- 자료형을 매개변수로 가지는 메소드
  + 하나의 메소드 정의로 여러 유형의 데이터를 처리할 때 유용함
- 메소드 정의에서 반환형 왼편, 각 괄호 `<>` 안에 타입 매개변수를 표시
  + 타입 매개변수를 메소드의 반환형이나 메소드 매개변수의 자료형, 지역 변수의 자료형으로 사용할 수 있음
- 인스턴스 메소드와 `static` 메소드 모두 제네릭 메소드로 정의 가능
- 제네릭 메소드를 호출할 때 타입을 명시하지 않아도 인자에 의해 추론 가능함

## 제네릭의 타입 제한

- 자료형을 매개변수화하여 클래스/인터페이스/메소드를 정의할 때 적용가능한 자료형에 제한을 두는 것
- `<T extends Number>`와 같이 하면 `T`를 상한으로 정할 수 있음
  + `T`에 주어지는 자료형은 `Number`의 서브 클래스여야 함

## 제네릭 타입과 형변환
상속 관계가 있어야 상위/하위 자료형의 관계가 존재함

## 제네릭 타입 사용 시 유의 사항
- 기본 자료형은 타입 매개변수로 지정할 수 없음
- 타입 매개변수로 객체 생성 할 수 없음
- 타입 매개변수의 타입으로 `static` 데이터 필드 선언 불가
- 제네릭 타입의 배열을 선언할 수 없음
